(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/MoV":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return f}));var r=a("g6NE"),n=r.a.getters["config/configs"],i=r.a.getters["config/vars"],s=function(){return{timezone:n.system.timezone,defaultDateFormat:i.defaultDateFormat,defaultDateTimeFormat:i.defaultDateTimeFormat,serverDateFormat:i.serverDateFormat,serverDateTimeFormat:i.serverDateTimeFormat,calendarLocale:{sameDay:i.defaultTimeFormat,lastWeek:i.defaultDateFormat,sameElse:i.defaultDateFormat}}},o=function(e,t){var a=s(),r=moment(e,a.serverDateFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),r.format(t||a.defaultDateFormat)):"INVALID DATE STRING"},l=function(e,t){var a=s(),r=moment(e,a.serverTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),r.format(t||a.defaultTimeFormat)):"INVALID TIME STRING"},u=function(e,t){var a=s(),r=moment(e,a.serverDateTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),r.format(t||a.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},c=function(e,t){var a=s(),r=moment(e,a.serverDateTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),r.calendar(t||a.calendarLocale)):"INVALID DATE TIME STRING"},d=function(e,t,a){var r=s();if(!e)return"INVALID DATE STRING";var n=moment.utc(e,r.serverDateFormat);return"NOW"===e&&(n=moment.utc()),Array.isArray(e)&&(n=moment.utc(e[0],e[1])),n.tz(a||r.timezone).format(t||r.defaultDateFormat)},p=function(e,t,a){var r=s(),n=moment.utc("".concat(moment().format(r.serverDateFormat)," ").concat(e),r.serverTimeFormat);return e?(Array.isArray(e)&&(n=moment.utc(e[0],e[1])),n.tz(a||r.timezone).format(t||r.defaultTimeFormat)):"INVALID TIME STRING"},m=function(e,t,a){var r=s();if(!e)return"INVALID DATE TIME STRING";var n=moment.utc(e,r.serverDateTimeFormat);return"NOW"===e&&(n=moment.utc()),Array.isArray(e)&&(n=moment.utc(e[0],e[1])),n.tz(a||r.timezone).format(t||r.defaultDateTimeFormat)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=s(),n=moment.utc(e,r.serverDateTimeFormat);if(!e)return"INVALID DATE TIME STRING";Array.isArray(e)&&(n=moment.utc(e[0],e[1]));var i=n.tz(a||r.timezone);return i=i.calendar(t||r.calendarLocale)}},"4qCA":function(e,t){e.exports="/images/default-profile-image-male-kid.png?db33f81a8becd3256ed9d97fe79d62a9"},"7RU4":function(e,t){e.exports="/images/default-profile-image-female-teen.png?08f8f40c141d4d9130622bed6ce75020"},BcCH:function(e,t,a){"use strict";var r=a("XuX8"),n=new(a.n(r).a);t.a=n},KLsy:function(e,t){e.exports="/images/default-profile-image-male-teen.png?54adcbaedc1c7db829c01303f13b3441"},QNWA:function(e,t,a){"use strict";var r=a("XuX8"),n=a.n(r),i=a("/MoV"),s=a("4qCA"),o=a.n(s),l=a("aX5J"),u=a.n(l),c=a("KLsy"),d=a.n(c),p=a("7RU4"),m=a.n(p),f=a("m/Fr"),g=a.n(f),v=a("hyU+"),b=a.n(v),h=a("L2JU");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var C={name:"search-user",props:{value:{type:[Object,Array,String]},label:{type:String,default:"Select Contact"},trackBy:{type:String,default:"uuid"},showBy:{type:String,default:"name"},error:{type:String,default:null},searchable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},wrapperClasses:{type:String},inputClasses:{type:String,default:"mb-4"},groupValues:{type:String,default:null},groupLabel:{type:String,default:null},groupSelect:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},commaSeparatedMultiple:{type:Boolean,default:!1},addNew:{type:String},autoFocus:{type:Boolean,default:!1},optionsLimit:{type:Number,deafult:5},url:{type:String,default:"users/search"},method:{type:String,default:"get"},params:{type:Object,default:function(){return{}}}},data:function(){return{cbId:"",users:[],formErrors:{},isLoading:!1}},computed:{user:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:w(w({},Object(h.b)("common",["Custom"])),{},{computedSubtitle:function(e){var t=e.vendor?e.vendor.name:e.brand?e.brand.name:e.company?e.company:"";return t?"(".concat(t,")"):""},computedImage:function(e,t){if("male"===e.uuid){if(t){if(t.years<13)return o.a;if(t.years<18)return d.a}return g.a}if(t){if(t.years<13)return u.a;if(t.years<18)return m.a}return b.a},searchContact:_.debounce((function(e){var t=this;if(e.length<3)return!1;this.isLoading=!0,this.Custom({url:this.url,method:this.method,params:w({q:e},this.params)}).then((function(e){t.users=e,t.isLoading=!1})).catch((function(e){t.users=[],t.isLoading=!1,t.formErrors=formUtil.handleErrors(e)}))}),500),clearSelectedContact:function(){this.user=null,this.users=[]}}),mounted:function(){var e=this;this.autoFocus&&setTimeout((function(){e.$refs["multiselect".concat(e.cbId)].activate()}),500)},created:function(){this.cbId=Math.random().toString(16).slice(2)}},S=a("KHd+"),k=Object(S.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["multiselect-wrapper",{"not-empty":!!e.user},{required:e.required},e.wrapperClasses]},[a("label",{staticClass:"input-group-material-label"},[e._v(e._s(e.label)+" "),e.required?a("span",{staticClass:"required-asterix"},[e._v("*")]):e._e()]),e._v(" "),e._t("addNew",[e.addNew?a("div",{staticClass:"add-new-link"},[a("base-button",{attrs:{type:"button",design:"link",size:"sm"},on:{click:function(t){return e.$router.push({name:e.addNew})}}},[e._v(e._s(e.$t("general.add_new")))])],1):e._e()]),e._v(" "),a("multiselect",{ref:"multiselect"+e.cbId,class:["input-group-material",e.inputClasses],attrs:{options:e.users,placeholder:e.label,"track-by":e.trackBy,label:e.showBy,searchable:e.searchable,"show-labels":!1,"allow-empty":e.allowEmpty,"group-values":e.groupValues,"group-label":e.groupLabel,"group-select":e.groupSelect,multiple:e.multiple,"close-on-select":e.closeOnSelect,disabled:e.disabled,loading:e.loading||e.isLoading,"preselect-first":e.preselectFirst,"internal-search":!1,"options-limit":e.optionsLimit},on:{"search-change":e.searchContact},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var r=t.option;return[a("div",{staticClass:"person-option selected"},[a("div",{staticClass:"person-image-wrapper"},[r.image?a("img",{staticClass:"person-image",attrs:{src:r.image}}):a("img",{staticClass:"person-image",attrs:{src:e.computedImage(r.gender,r.age)}})]),e._v(" "),a("div",{staticClass:"person-details"},[a("span",{staticClass:"title"},[e._v(e._s(r.name))]),e._v(" "),a("span",{staticClass:"subtitle"},[e._v(e._s(e.computedSubtitle(r)))])])])]}},{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"person-option"},[a("div",{staticClass:"person-image-wrapper"},[r.image?a("img",{staticClass:"person-image",attrs:{src:r.image}}):a("img",{staticClass:"person-image",attrs:{src:e.computedImage(r.gender,r.age)}})]),e._v(" "),a("div",{staticClass:"person-details"},[a("span",{staticClass:"title"},[e._v(e._s(r.name))]),e._v(" "),a("span",{staticClass:"subtitle"},[e._v(e._s(e.computedSubtitle(r)))])])])]}},{key:"clear",fn:function(t){return[e.user?a("div",{staticClass:"multiselect__clear",on:{mousedown:function(a){return a.preventDefault(),a.stopPropagation(),e.clearSelectedContact(t.search)}}}):e._e()]}},{key:"noResult",fn:function(){return[a("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("global.could_not_find_any",{attribute:e.$t("user.user")})))])]},proxy:!0},{key:"noOptions",fn:function(){return[a("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("general.search_helper_text")))])]},proxy:!0}]),model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),e._v(" "),e._t("errorBlock",[e.error?a("div",{staticClass:"text-danger invalid-feedback",staticStyle:{display:"block","margin-top":"-0.5rem"}},[e._v("\n            "+e._s(e.error)+"\n        ")]):e._e()])],2)}),[],!1,null,null,null).exports,I=a("akQX"),j=a("kogc"),D=a("BcCH");function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){B(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var P={name:"profile-buttons",props:{link:{type:Object,default:null},showCallButtonsIfOnline:{type:Boolean,default:!0},user:{type:Object,required:!0}},data:function(){return{subscriptions:{},callId:null}},computed:A(A(A(A({},Object(h.c)("user",["uuid","username","profile","loggedInUser","liveLoggedInUser","loggedInUserBusy","liveUsers"])),Object(h.c)("config",["configs"])),Object(h.c)("chat",["chatBoxLoaded"])),{},{liveUser:function(){var e=this;return this.user&&this.liveUsers.find((function(t){return t.uuid===e.user.uuid}))},isOnline:function(){return!!this.liveUser},isUserBusy:function(){return this.isOnline&&!!this.liveUser.busy},isLoggedIn:function(){return this.user&&this.liveLoggedInUser&&this.user.uuid===this.liveLoggedInUser.uuid},callUuid:function(){return this.callId?this.callId:this.callId=uuid()}}),methods:A(A(A({},Object(h.b)("user",["SetLiveUsers","UpdateLiveUser"])),Object(h.b)("chat",["SetActiveChatUser"])),{},{setUserStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.UpdateLiveUser(A(A({},this.loggedInUser),{},{busy:e,timerToFalse:t})),this.subscriptions.users.whisper("SetUserStatus",A(A({},this.loggedInUser),{},{busy:e}))},showCallingNotification:function(e){var t=this;window.callPlaying=Object(I.c)();var a={title:"Calling ".concat(e.name,"..."),cancelButtonText:"CANCEL",showConfirmButton:!1,showCancelButton:!0};this.$toasted.clear(),this.setUserStatus("CALLING"),window.callTo=e,j.b.fire(a).then((function(a){window.callPlaying.pause(),window.callTo=null,a.value?t.setUserStatus("ON_CALL"):a.dismiss===j.a.DismissReason.cancel?(t.setUserStatus(!1),t.subscriptions.users.whisper("CallCancelled",{to:Object.assign({},t.user),from:Object.assign({},t.loggedInUser),id:t.callUuid})):a.dismiss===j.a.DismissReason.timer&&(t.setUserStatus(!1),t.$toasted.info("No answer from ".concat(e.name),t.$toastConfig.info))}))},startCalling:function(){this.$gaEvent("engagement","startCalling","ProfileButtons"),this.$emit("buttonClicked"),this.showCallingNotification(Object.assign({},this.user)),this.callId=uuid(),window.callUuid=this.callUuid,this.subscriptions.users.whisper("StartCalling",{to:Object.assign({},this.user),from:Object.assign({},this.loggedInUser),id:this.callUuid})},endCall:function(){this.subscriptions.users.whisper("EndCalling",{to:Object.assign({},this.user),from:Object.assign({},this.loggedInUser),id:this.callUuid}),this.setUserStatus(!1),window.callUuid=null},startChat:function(){this.$gaEvent("engagement","startChat","ProfileButtons"),this.SetActiveChatUser(this.user),D.a.$emit("START_CHAT_WITH",this.user)}}),mounted:function(){},created:function(){window.Echo&&window.EchoOpts&&(this.subscriptions={users:window.EchoOpts.subscriptions.users})},beforeDestroy:function(){},destroyed:function(){}},x=Object(S.a)(P,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buttons-container"},[a("div",{staticClass:"buttons-wrapper"},[a("div",{staticClass:"btn-group buttons",attrs:{role:"group"}},[e.link?a("router-link",{staticClass:"btn btn-sm btn-light flex-grow-2",attrs:{tag:"a",to:e.link}},[e._v("\n                "+e._s(e.$t("user.profile"))+"\n            ")]):e._e(),e._v(" "),!e.isLoggedIn&&(!e.showCallButtonsIfOnline||e.showCallButtonsIfOnline&&e.isOnline)?[a("button",{staticClass:"btn btn-sm btn-light d-none",attrs:{disabled:e.isUserBusy||e.loggedInUserBusy},on:{click:e.startCalling}},[a("i",{staticClass:"fas fa-phone-alt"})])]:e._e(),e._v(" "),e.configs.chat&&e.configs.chat.enabled&&e.chatBoxLoaded?[a("button",{staticClass:"btn btn-sm btn-light",on:{click:e.startChat}},[a("i",{staticClass:"fas fa-comment"})])]:e._e()],2)])])}),[],!1,null,null,null).exports,E={name:"profile-card",components:{},props:{options:{type:Object,default:function(){return{imageType:"adult"}}},to:{type:Object,default:null},name:{required:!0},subHeading:{type:String,default:""},gender:{type:Object,default:function(){return{uuid:"male",name:"Male"}}},age:{type:Object,default:function(){return{years:18,months:0,days:0}}},image:{type:String,default:""},horizontal:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},userStatus:{type:Boolean,default:!1},user:{type:Object}},computed:{computedImage:function(){if(!this.gender)return g.a;if("male"===this.gender.uuid){if(this.age){if(this.age.years<13)return o.a;if(this.age.years<18)return d.a}return g.a}if(this.age){if(this.age.years<13)return u.a;if(this.age.years<18)return m.a}return b.a}}},U=Object(S.a)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["profile-card",{"horizontal-layout":e.horizontal}]},[a("div",{staticClass:"profile-image-background"}),e._v(" "),a("div",{staticClass:"profile-details-wrapper"},[a("div",{staticClass:"profile-image-wrapper",class:{placeholder:!e.image}},[e.to?[e.image?a("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):a("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]:[e.image?a("div",{staticClass:"profile-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):a("div",{staticClass:"profile-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]],2),e._v(" "),a("div",{staticClass:"profile-details"},[e.to?a("router-link",{staticClass:"profile-heading pointer",attrs:{to:e.to,tag:"h5"}},[e._v(e._s(e.name))]):a("h5",{staticClass:"profile-heading"},[e._v(e._s(e.name))]),e._v(" "),a("p",{staticClass:"profile-sub-heading text-muted"},[e._v(e._s(e.subHeading))]),e._v(" "),e.$slots.extras?a("div",{staticClass:"profile-extras has-slot"},[e._t("extras")],2):a("p",{staticClass:"profile-extras text-muted comma-list"},[e.gender?a("span",[e._v(e._s(e.gender.name))]):e._e(),e._v(" "),e.age?a("span",[e._v(e._s(e.$t("global.years_old",{attribute:e.age.years})))]):e._e()])],1)]),e._v(" "),e.showButtons?a("profile-buttons",{attrs:{link:e.to,user:e.user},on:{buttonClicked:function(t){return e.$emit("buttonClicked")}}}):e._e()],1)}),[],!1,null,null,null).exports,$={name:"small-profile-card",components:{},props:{options:{type:Object,default:function(){return{imageType:"adult"}}},to:{type:Object,default:null},name:{required:!0},subHeading:{type:String,default:""},gender:{type:Object,default:function(){return{uuid:"male",name:"Male"}}},age:{type:Object,default:function(){return{years:18,months:0,days:0}}},image:{type:String,default:""},horizontal:{type:Boolean,default:!0},userStatus:{type:Boolean,default:!1},user:{type:Object}},computed:{computedImage:function(){if(!this.gender)return g.a;if("male"===this.gender.uuid){if(this.age){if(this.age.years<13)return o.a;if(this.age.years<18)return d.a}return g.a}if(this.age){if(this.age.years<13)return u.a;if(this.age.years<18)return m.a}return b.a}}},L=Object(S.a)($,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["small-profile-card",{"horizontal-layout":e.horizontal}]},[a("div",{staticClass:"profile-details-wrapper"},[a("div",{staticClass:"profile-image-wrapper",class:{placeholder:!e.image}},[e.to?[e.image?a("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):a("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]:[e.image?a("div",{staticClass:"profile-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):a("div",{staticClass:"profile-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]],2),e._v(" "),a("div",{staticClass:"profile-details"},[e.to?a("router-link",{staticClass:"profile-heading pointer",attrs:{to:e.to,tag:"h5"}},[e._v(e._s(e.name))]):a("h5",{staticClass:"profile-heading"},[e._v(e._s(e.name))]),e._v(" "),e.subHeading?a("p",{staticClass:"profile-sub-heading text-muted"},[e._v(e._s(e.subHeading))]):e._e()],1)])])}),[],!1,null,null,null).exports;function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var M={name:"view-user",components:{BPopover:a("OCip").a},props:{label:{type:String,description:"View label (text before input)"},labelClasses:{type:[String,Array],description:"View label css classes",default:"d-block"},dataClasses:{type:[String,Array],description:"View css classes"},value:{type:[String,Number,Boolean,Object],description:"View value"},tag:{type:String,description:"Tag value",default:"h6"},subtitleKey:{type:String,default:"username"},subtitleSecondaryKey:{type:String,default:"email"},subArr:{type:Array},showSub:{type:Boolean,default:!0},showImage:{type:Boolean,default:!0},size:{type:String,default:"md"},showStatus:{type:Boolean,default:!0},showStatusIfOnline:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},showPopoverButtons:{type:Boolean,default:!0},focusable:{type:Boolean,default:!1},hidePopover:{type:Boolean,default:!1},inlineSub:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},link:{type:Object,default:null},linkSecond:{type:Object,default:null}},data:function(){return{elementId:"",renderPopover:!1,showPopup:!1,timer:"",isInInfo:!1}},computed:N(N({},Object(h.c)("user",["liveUsers","liveLoggedInUser"])),{},{isLoggedIn:function(){return this.value&&this.liveLoggedInUser&&this.value.uuid===this.liveLoggedInUser.uuid},liveUser:function(){var e=this;return this.value&&this.liveUsers.find((function(t){return t.uuid===e.value.uuid}))},isOnline:function(){return!!this.liveUser},isUserBusy:function(){return this.isOnline&&!!this.liveUser.busy},computedLink:function(){return this.link?this.link:this.profileLink?this.profileLink:null},computedLinkSecond:function(){return this.linkSecond?this.linkSecond:this.ledgerLink?this.ledgerLink:null},profileLink:function(){return this.value?{name:"appUserView",params:{uuid:this.value.uuid,slug:this.value.slug}}:null}}),methods:{getSubValue:function(e,t){e=e.split(".");var a=t;return e.forEach((function(e){a=a[e]})),a},computedImage:function(){if(!this.value.profile||!this.value.profile.gender)return g.a;var e=this.value.profile.gender,t=this.value.profile.age;if("male"===e||"male"===e.uuid){if(t){if(t.years<13)return o.a;if(t.years<18)return d.a}return g.a}if(t){if(t.years<13)return u.a;if(t.years<18)return m.a}return b.a},hover:function(){var e=this;this.timer=setTimeout((function(){e.showPopover()}),300)},hoverOut:function(){var e=this;clearTimeout(e.timer),this.timer=setTimeout((function(){e.isInInfo||e.closePopover()}),200)},hoverInfo:function(){this.isInInfo=!0},hoverOutInfo:function(){this.isInInfo=!1,this.hoverOut()},showPopover:function(){this.showPopup=!0},closePopover:function(){this.showPopup=!1},onShow:function(){},onShown:function(){},onHidden:function(){},focusRef:function(e){var t=this;this.$nextTick((function(){t.$nextTick((function(){(e.$el||e).focus()}))}))}},mounted:function(){var e=this;this.$nextTick((function(){e.renderPopover=!0}))},created:function(){this.elementId=Math.random().toString(16).slice(2)}},V=Object(S.a)(M,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-view view-user"},[a("div",{staticClass:"view-group",class:[{"has-label":e.label||e.$slots.label},{"not-empty":e.value||0===e.value},{"d-inline":e.inline},"size-"+e.size]},[e._t("label",[e.label?a("label",{class:e.labelClasses},[e._v("\n                "+e._s(e.label)+"\n            ")]):e._e()]),e._v(" "),e._t("main",[e.value&&e.elementId?[a("div",{class:["popover-parent user-popover-parent",{"show-buttons":e.showButtons&&e.hidePopover}],attrs:{id:"Container"+e.elementId}},[a("router-link",{ref:"Button"+e.elementId,staticClass:"btn-popover-link",class:[{focusable:e.focusable}],attrs:{to:e.computedLink,tag:"button",disabled:!e.hidePopover&&e.showPopup,id:"Button"+e.elementId}},[a("div",{staticClass:"popover-element",on:{mouseover:e.hover,mouseout:e.hoverOut}},[e.showImage?a("div",{staticClass:"user-image-wrapper"},[e.value.profile&&e.value.profile.avatar?a("img",{staticClass:"user-image",attrs:{src:e.value.profile.avatar}}):a("img",{staticClass:"user-image",attrs:{src:e.computedImage()}})]):e._e(),e._v(" "),a("div",{staticClass:"user-details"},[a(e.tag,{tag:"component",class:["view-data",{"inline-sub":e.inlineSub},{"user-status":!e.isLoggedIn&&e.showStatus&&(!e.showStatusIfOnline||e.showStatusIfOnline&&e.isOnline)},{"is-online":e.isOnline},{"is-offline":!e.isOnline},{"is-busy":e.isUserBusy},e.dataClasses]},[a("span",{staticClass:"title"},[e._v(e._s(e.value.profile.name))]),e._v(" "),e.showSub&&e.inlineSub?a("small",{staticClass:"subtitle"},[e.subtitleKey?a("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleKey,e.value)))]):e._e()]):e._e()]),e._v(" "),e._t("sub",[e._t("submain",[e.showSub&&!e.inlineSub?a("div",{staticClass:"subtitle comma-list"},[e.subtitleKey?a("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleKey,e.value)))]):e._e(),e._v(" "),e.subtitleSecondaryKey?a("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleSecondaryKey,e.value)))]):e._e()]):e._e()]),e._v(" "),e._t("subextra")])],2)])]),e._v(" "),e.showButtons&&e.hidePopover?a("profile-buttons",{attrs:{link:e.link,user:e.value}}):e._e(),e._v(" "),!e.hidePopover&&e.renderPopover?[a("b-popover",{ref:"Popover"+e.elementId,attrs:{target:"Button"+e.elementId,show:e.showPopup,placement:"auto",container:"Container"+e.elementId},on:{"update:show":function(t){e.showPopup=t},show:e.onShow,shown:e.onShown,hidden:e.onHidden}},[a("div",{staticClass:"user-popover dark-bg",on:{mouseover:e.hoverInfo,mouseout:e.hoverOutInfo}},[a("profile-card",{attrs:{name:e.value.profile.name,"sub-heading":e.value.username||"-",gender:e.value.profile.gender,image:e.value.profile.avatar,age:e.value.profile.age,"data-card-color":"whitish",to:e.profileLink,"show-buttons":e.showPopoverButtons,"user-status":e.isOnline,user:e.value},on:{buttonClicked:function(t){return e.$root.$emit("bv::hide::popover","Button"+e.elementId)}}})],1)])]:e._e()],2)]:a("span",[e._v("-")])])],2)])}),[],!1,null,null,null).exports,K=a("SokU"),q=a.n(K),R=a("nFxi"),H={name:"user-avatar",components:{Avatar:q.a},props:{user:{type:Object,required:!0},backgroundColor:{type:String,default:R.a.colors.white},foregroundColor:{type:String,default:R.a.colors.primary},size:{type:Number,default:40}}},W=Object(S.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("div",[e.user.profile&&e.user.profile.name?a("avatar",{attrs:{username:e.user.profile.name,src:e.user.profile.avatar,"background-color":e.backgroundColor,color:e.foregroundColor,size:e.size}}):!e.user.profile&&e.user.name?a("avatar",{attrs:{username:e.user.name,src:e.user.avatar,"background-color":e.backgroundColor,color:e.foregroundColor,size:e.size}}):e._e()],1):e._e()}),[],!1,null,null,null).exports;function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){J(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Q={name:"search-tag",props:{value:{type:Array},label:{type:String,default:"Enter a tag"},selectTrackBy:{type:String,default:"slug"},selectName:{type:String,default:"name"},options:{type:Array,default:function(){return[]}},error:{type:String,default:null},allowEmpty:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},tabindex:{type:Number,default:0},wrapperClasses:{type:String},inputClasses:{type:String,default:"mb-4"}},data:function(){return{cbId:""}},computed:{tags:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},tagError:{get:function(){return this.error},set:function(e){this.$emit("update:error",e)}}},methods:X(X({},Object(h.b)("common",["Custom"])),{},{addTag:function(e){this.$emit("tag",e)}}),mounted:function(){this.autoFocus&&this.$refs["multiselect".concat(this.cbId)].activate()},created:function(){this.cbId=Math.random().toString(16).slice(2)}},Y=Object(S.a)(Q,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multiselect-wrapper",{class:[e.wrapperClasses],attrs:{"is-selected":!!e.tags,label:e.label,value:e.tags,error:e.tagError,required:e.required},on:{"update:error":function(t){e.tagError=t}}},[a("multiselect",{ref:"multiselect"+e.cbId,class:["input-group-material",e.inputClasses],attrs:{options:e.options,placeholder:e.label,"track-by":e.selectTrackBy,label:e.selectName,searchable:!0,"show-labels":!1,"allow-empty":e.allowEmpty,multiple:e.multiple,"close-on-select":!1,taggable:!0,"tag-placeholder":e.$t("general.enter_a_tag"),disabled:e.disabled,loading:e.loading},on:{tag:e.addTag},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}})],1)}),[],!1,null,null,null).exports,Z={name:"table-row-actions",props:{btnIcon:{type:String,default:"fas fa-ellipsis-v"}},data:function(){return{}},computed:{}},ee=Object(S.a)(Z,(function(){var e=this.$createElement,t=this._self._c||e;return t("base-dropdown",{staticClass:"table-row-actions",attrs:{tag:"div",direction:"down","menu-classes":"show-dropdown-up",position:"right"}},[t("base-button",{attrs:{slot:"title",type:"button","data-toggle":"dropdown",role:"button",size:"md"},slot:"title"},[t("i",{class:this.btnIcon})]),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports;function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ne={name:"keep-adding-form",props:{isLoading:{type:Boolean,default:!1},keepAddingOption:{type:String},keepAddingSelectedFields:{type:Array,default:function(){return[]}},keepAddingFields:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:ae(ae({},Object(h.c)("config",["vars"])),{},{localKeepAddingOption:{get:function(){return this.keepAddingOption},set:function(e){this.$emit("optionUpdated",e)}},localKeepAddingSelectedFields:{get:function(){return this.keepAddingSelectedFields},set:function(e){this.$emit("fieldsUpdated",e)}}})},ie=Object(S.a)(ne,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-12 col-md-3"},[a("base-select",{attrs:{options:e.vars.keepAddingOptions,label:e.$t("general.select_keep_adding_option"),"allow-empty":!1,"track-by":"uuid",simple:!0,disabled:e.isLoading},on:{input:function(t){return e.$emit("fieldsUpdated")}},scopedSlots:e._u([{key:"selectedOption",fn:function(t){var r=t.option;return[a("span",{staticClass:"title"},[e._v(e._s(e.$t("general."+r.name)))])]}},{key:"listOption",fn:function(t){var r=t.option;return[a("span",{staticClass:"title"},[e._v(e._s(e.$t("general."+r.name)))])]}}]),model:{value:e.localKeepAddingOption,callback:function(t){e.localKeepAddingOption=t},expression:"localKeepAddingOption"}})],1),e._v(" "),a("div",{staticClass:"col-12 col-md-9"},[a("base-select",{attrs:{options:e.keepAddingFields,label:e.$t("general.select_keep_adding_fields"),"allow-empty":!0,multiple:!0,"track-by":"uuid","show-by":"value","close-on-select":!1,disabled:e.isLoading},model:{value:e.localKeepAddingSelectedFields,callback:function(t){e.localKeepAddingSelectedFields=t},expression:"localKeepAddingSelectedFields"}})],1)])}),[],!1,null,null,null).exports;n.a.component(k.name,k),n.a.component(x.name,x),n.a.component(U.name,U),n.a.component(L.name,L),n.a.component(V.name,V),n.a.component(W.name,W),n.a.component(Y.name,Y),n.a.component(ie.name,ie),n.a.component(ee.name,ee),n.a.filter("momentDate",i.c),n.a.filter("momentTime",i.g),n.a.filter("momentDateTime",i.d),n.a.filter("momentTimeTz",i.h),n.a.filter("momentDateTimeTz",i.e),n.a.filter("momentCalendar",i.a),n.a.filter("momentCalendarTz",i.b)},aX5J:function(e,t){e.exports="/images/default-profile-image-female-kid.png?a698c120d375307de1ec9bc66eb39a68"},akQX:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return g}));var r=a("V0LQ");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert($t("misc.get_user_media_not_supported")),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});var n="https:"===location.protocol,i=[],s=!1;("undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)&&(s=!0);var o={hasMicrophone:!1,hasWebcam:!1,isMicrophoneAlreadyCaptured:!1,isWebcamAlreadyCaptured:!1,permissionError:!0},l=function(e){s&&(!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),navigator.enumerateDevices?(i=[],navigator.enumerateDevices((function(t){t.forEach((function(e){var t,a={};for(var r in e)a[r]=e[r];"audio"===a.kind&&(a.kind="audioinput"),"video"===a.kind&&(a.kind="videoinput"),i.forEach((function(e){e.id===a.id&&e.kind===a.kind&&(t=!0)})),t||(a.deviceId||(a.deviceId=a.id),a.id||(a.id=a.deviceId),a.label?("videoinput"!==a.kind||o.isWebcamAlreadyCaptured||(o.isWebcamAlreadyCaptured=!0),"audioinput"!==a.kind||o.isMicrophoneAlreadyCaptured||(o.isMicrophoneAlreadyCaptured=!0)):(a.label="Please invoke getUserMedia once.",n||(a.label="HTTPs is required to get label of this "+a.kind+" device.")),"audioinput"===a.kind&&(o.hasMicrophone=!0),"videoinput"===a.kind&&(o.hasWebcam=!0),i.push(a))})),e&&e(o)}))):e&&e(o))},u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l((function(a){if(a){var r=!1;e&&!a.hasMicrophone&&(r=!0),t&&!a.hasWebcam&&(r=!0),r&&d(a)}}))},c=function(e){var t={icon:"error",footer:$t("misc.solve_and_refresh")};if(e)return"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?(t.title=$t("misc.media.permission_denied"),t.text=$t("misc.media.permission_denied_text")):"NotFoundError"===e.name?(t.title=$t("misc.media.not_found"),t.text=$t("misc.media.not_found_text")):"NotReadableError"===e.name||"OverconstrainedError"===e.name?(t.title=$t("misc.media.unreadable"),t.text=$t("misc.media.unreadable_text")):"SecurityError"!==e.name&&"TypeError"!==e.name||(t.title=$t("misc.media.security"),t.text=$t("misc.media.security_text")),{msg:t,alert:swtAlert.fire(t)}},d=function(e){var t=[];e.hasMicrophone||t.push("Microphone"),e.hasWebcam||t.push("WebCam");var a={icon:"error",title:$t("misc.media.missing"),text:$t("misc.media.missing_text",{attribute:t.join(", ")}),footer:$t("misc.solve_and_refresh")};swtAlert.fire(a)},p=function(e){if((e=Object.assign({},{type:null,loop:!1,duration:1e3},e)).type){var t=new Audio;return t.preload="auto",t.autoplay=!0,t.loop=e.loop,t.src="/sound/".concat(e.type,".mp3"),t.play().then((function(){setTimeout((function(){t&&t.pause()}),e.duration)})).catch((function(e){console.error(e)})),t}},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return p({type:"calling",loop:!0,duration:3e4})},f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return p({type:"message",duration:3e3})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href,n=e.url?e.url:a;if(navigator.share)navigator.share({title:e.title?e.title:document.title,url:n}).then((function(){console.log("Thanks for sharing!")})).catch(console.error);else{var i={showCancelButton:!0,confirmButtonText:$t("misc.share_alert.confirm_btn"),cancelButtonText:$t("misc.share_alert.cancel_btn")};e.alertTitle&&(i.title=e.alertTitle),e.alertHtml?i.html=e.alertHtml:i.text=$t("misc.share_alert.text"),swtAlert.fire(i).then((function(e){e.value&&(Object(r.c)(n),setTimeout((function(){t()}),500))}))}}},"hyU+":function(e,t){e.exports="/images/default-profile-image-female.png?f06ec6078fcc441923987bf158202c95"},"m/Fr":function(e,t){e.exports="/images/default-profile-image-male.png?82fe52757240e0913ffeb5c5ab65b953"}}]);
//# sourceMappingURL=landing-layout.js.map?id=40447e1cc455ed0f545a